- name: Create a directory if it does not exist
  ansible.builtin.file:
    path: ~/backend 
    state: directory
    mode: '0777'

- name: Another symbolic mode example, adding some permissions and removing others
  ansible.builtin.copy:
    src: ~/project/artifact.tar.gz
    dest: ~/backend/artifact.tar.gz

- name: Unarchive a file that is already on the remote machine
  ansible.builtin.unarchive:
    src: ~/backend/artifact.tar.gz
    dest: ~/backend/
    remote_src: yes

- name: run the backend
  shell: |
    cd backend
    sudo npm install 
    sudo pm2 stop default
    sudo pm2 start npm -- start


    




